<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Neuralhub</title>
    <link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="beta.css" />
  </head>
  <body>
    <svg id="neural-network" xmlns="http://www.w3.org/2000/svg"></svg>
    <div id="beta-container">
      <div class="beta-form-container">
        <img src="images/logos/9.png" alt="Neuralhub Logo" class="logo-img" />
        <h3>Join the beta release</h3>
        <form>
          <input type="email" placeholder="Email" required />
          <button type="submit">Enter</button>
        </form>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const svg = document.getElementById("neural-network");
        const layers = [16, 2, 4, 8, 16, 16, 16, 8, 4, 2, 16];
        const nodeRadius = 30;
        const vSpace = 50;
        const hSpace = 160;

        function drawNetwork() {
          // Clear existing nodes and lines
          while (svg.firstChild) {
            svg.removeChild(svg.lastChild);
          }

          const totalWidth = hSpace * (layers.length - 1);
          let x = (window.innerWidth - totalWidth) / 2; // Center the network

          layers.forEach((layerSize, layerIndex) => {
            let y = (window.innerHeight - (layerSize - 1) * vSpace) / 2;
            for (let i = 0; i < layerSize; i++) {
              const circle = document.createElementNS(
                "http://www.w3.org/2000/svg",
                "circle"
              );
              circle.setAttribute("cx", x);
              circle.setAttribute("cy", y);
              circle.setAttribute("r", nodeRadius);
              svg.appendChild(circle);

              if (layerIndex < layers.length - 1) {
                const nextLayerSize = layers[layerIndex + 1];
                const nextX = x + hSpace;
                let nextY =
                  (window.innerHeight - (nextLayerSize - 1) * vSpace) / 2;
                for (let j = 0; j < nextLayerSize; j++) {
                  const line = document.createElementNS(
                    "http://www.w3.org/2000/svg",
                    "line"
                  );
                  line.setAttribute("x1", x);
                  line.setAttribute("y1", y);
                  line.setAttribute("x2", nextX);
                  line.setAttribute("y2", nextY);
                  line.setAttribute("stroke", "#727272");
                  svg.appendChild(line);
                  nextY += vSpace;
                }
              }

              y += vSpace;
            }
            x += hSpace;
          });
        }

        drawNetwork();

        window.addEventListener("resize", drawNetwork); // Adjust the network's position when the window size changes
      });
    </script>
  </body>
</html>
